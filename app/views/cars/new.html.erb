<div class="container">
   <div class="row">
      <div class="col-md-offset-1 col-md-10 col-md-offset-1">
         <div class="form-group">
            <h1>Create</h1>
         </div>
         <%= form_for @car, :url => customer_car_new_path, :class => "form-horizontal car", :html => { multipart: true } do |f| %>
            <div class="form-group">
               <% if @car.errors.any? %>
                  <div id="error_expl" class="panel panel-danger">
                     <div class="panel-heading">
                        <h3 class="panel-title"><%= pluralize(@car.errors.count, "error") %> prohibited this car from being saved:</h3>
                     </div>
                     <div class="panel-body">
                        <ul>
                           <% @car.errors.full_messages.each do |msg| %>
                           <li><%= msg %></li>
                           <% end %>
                        </ul>
                     </div>
                  </div>
               <% end %>
            </div>
            <div class="form-group">
               <h3 style="font-weight:bold;">Customer:</h3>
            </div>
            <div class="form-group">   
               <%= f.label "Id" %>
               <%= f.text_field :Customer_id, :class => 'form-control customer_data readonly-field', :value => @customer.id, :readonly => true %>
            </div>
            <div class="form-group">
               <%= f.label "Name" %>
               <%= f.text_field :name, :class => 'form-control customer_data readonly-field', :value => @customer.name, :readonly => true %>
            </div>
            <div class="form-group">
               <hr>
            </div>
            <h3 style="font-weight:bold;">Car:</h3>
            <div class="form-group">
               <%= f.label :model %>
               <%= f.text_field :model,  :maxlength => 100,  :class => 'form-control' %>
            </div>
            <div class="form-group">
               <%= f.label :plate %>
               <%= f.text_field :plate, :maxlength => 7, :class => 'form-control' %>
            </div>
            <div class="form-group">
               <%= f.label :year %>
               <%= f.number_field :year, :size => 4, :class => 'form-control' %>
            </div>
            <div class="form-group">
               <%= f.label :marketval %>
               <%= f.text_field :marketval,  :maxlength => 15, :class => 'form-control' %>
            </div>
            <div class="form-group">
               <%= f.label :avatar %>
               <%= f.file_field :avatar, :class => 'form-control' %>
            </div>
            <div class="form-group">
               <%= f.submit @car, :class => 'btn btn-success pull-right col-md-2', :value => 'Create' %>
               <%= link_to "Cancel", customers_path(@customer.id), :class => 'btn btn-default pull-right col-md-2' %>
            </div>
         <% end %>
      </div>
   </div>
</div>
<script>
   var j = $.noConflict();
   j("#car_marketval").maskMoney({ thousands: "", decimal: "." });
</script>